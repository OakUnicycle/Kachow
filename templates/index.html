<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Kachow</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/app.css" />
    <script>
        var scores = {{ scores|tojson }};
        var related_articles = {{ related_articles|tojson }};

        const comparison_word = "{{ comparison_word | safe }}";
    </script>
</head>

<body>
    <template id="slider_template">
        <div class="judging_box bias">
            <div class="judging_text_box">
                <p class="slider_title">slider title</p>
                <span class="slider_value"></span>
            </div>
            <div class="slider_wrapper">
                <input type="range" class="slider_input" min="0" max="100" value="0" disabled>
                <div class="slider_labels">
                    <span class="slider_min">min</span>
                    <span class="slider_max">max</span>
                </div>
            </div>
        </div>
        <div class="divider"></div>
    </template>

    <script src="../static/app.js"></script>


    <div class="header">
        <div class="header_left">
            <h1 class="header_title">  
                Kachow
            </h1>
        </div>
        <div class="header_right">

        </div>
    </div>

    <div class="intro-container {% if not is_initial_load %}inactive{% endif %}" id="intro-container">
        <h1 class="intro-title">Analyse news articles</h1>
        <p class="intro-subtitle">Enter the url to scan for any biases and look for reliable sources.</p>
        <form id="intro-form" class="intro-form" method="POST">
            <input type="text" id="intro-url" name="url" placeholder="https://www.example.com" required>
            <label for="comparison_word">Compare with Word:</label>
            <input type="text" name="comparison_word" placeholder="e.g., happy, economy, war" value="{{ comparison_word if comparison_word else '' }}">
            <button type="submit">Analyse</button>
        </form>
    </div>


    <div class="split_screen {% if is_initial_load %}inactive{% endif %}" id="split_screen">
        <div class="left_side">
            <div class="side_bar">
                
                <div class="input_box">
                    <h2 class="url_text">
                        Input a URL of an Article
                    </h2>
                    <form method="post" id="main_form" class="form_input">
                        <input type="text" id="url" name="url" placeholder="enter website URL"><br>
                    </form>
                </div>
                


                <div class="divider"></div>
                
                <div id="word_comparison_card" style="display: none; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                    <h3 id="comparison_word_title"></h3>
                    <p id="comparison_word_score"></p>
                </div>
            </div>
        </div>

        <div class="right_side">
            
            <article class="output_box">

                <h3 class="article title">
                    {{title}}
                </h3>

                <h4 class="article author">
                    {{source}}
                </h4>

                <p class="article contents">
                    {{main_text}}
                </p>
            </article>
            <div class="card-container" id="related-articles">

            </div>
        </div>
    </div>
</body>
</html>